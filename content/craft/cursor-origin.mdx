---
title: Cursor-origin background scale
---

import { Media } from '../../app/craft/_/craft-media'
import { cn } from '@/lib/utils'
import Link from 'next/link'
import { OriginAwareButton } from '@/app/craft/cursor-origin-button/button'

I saw this post on my X timeline and was intrigued.

<div className="flex flex-col gap-4 w-full">
  <Media
    theme="light"
    src="https://bazza-dev.b-cdn.net/subtle-cursor-origin-background-scale-button.mp4"
    type="video"
    width={958}
    height={540}
    alt="Subtle cursor-origin background scale button"
    wrapperClassName={cn(
      'z-10',
      'rounded-xl h-full w-full overflow-clip border',
    )}
  />
  <span className="text-sm *:!text-sand-10 text-center w-full">
    Subtle cursor-origin background scale by [@merycodes](https://x.com/merycodes).
  </span>
</div>

I frequently see design posts like this and think to myself, *"this looks pretty cool, I should try to recreate this."*

Fast forward a few days, and nothing happens. That post, which once captivated my attention, is now out of mind. Another post will take its place to restart the cycle.

Unfortunately, balancing three jobs leads to these ideas of (seemingly) low ROI to get brushed to the waistline, amongst the mountain of more pressing work.

Well today I said: **enough is enough.** Today is the day.

## The Prototype

<Frame className="[--duration:150ms]">
  <OriginAwareButton />
</Frame>


Try hovering the button to see the button's background appear.

When the button is hovered, the background originates from the cursor location. 

I also extended the effect to the `pointerleave` event; when the button is un-hovered, the background "disappears" from the where the cursor left the button.

## Code

```typescript title="Sample TypeScript code"
class Person {
  name: string;
  age: number;
  city: string;

  constructor(name: string, age: number, city: string) {
    this.name = name;
    this.age = age;
    this.city = city;
  }

  greet(): string {
    return `Hello, my name is ${this.name} and I am ${this.age} years old from ${this.city}.`;
  }
}

// Function to update a person's age
function updateAge(person: Person, newAge: number): void {
  person.age = newAge;
}

// Function to change a person's city
function changeCity(person: Person, newCity: string): void {
  person.city = newCity;
}

// Instantiating a new Person object
const person1 = new Person("Alice", 30, "New York");

// Updating age and city
updateAge(person1, 31);
changeCity(person1, "Los Angeles");

// Logging the updated person details
console.log(person1.greet());
```

```tsx
<button
  type="button"
  className={cn(
    'text-sand-11 font-sans font-[450] flex items-center gap-2 h-9 px-3 text-sm relative *:z-1',
    'hover:text-sand-12',
    'active:scale-97 active:before:bg-sand-4',
    'before:absolute before:inset-0 before:z-0 before:rounded-xl before:bg-sand-3',
    'before:origin-(--cursor-origin) before:transition-[scale,opacity,color,background-color] before:ease-out before:duration-(--duration)',
    'before:scale-0 before:opacity-50',
    'hover:before:scale-100 hover:before:opacity-100',
  )}
  ref={(el) => {
    if (!el) return

    function setCursorOrigin(el: HTMLElement, e: MouseEvent) {
      const { clientX, clientY } = e

      const { top, left, width, height } = el.getBoundingClientRect()

      const x = ((clientX - left) / width) * 100
      const y = ((clientY - top) / height) * 100

      el.style.setProperty('--x', `${x}%`)
      el.style.setProperty('--y', `${y}%`)
      el.style.setProperty('--cursor-origin', `var(--x) var(--y)`)
    }

    el.addEventListener('mouseenter', (e) => setCursorOrigin(el, e))
    el.addEventListener('mouseleave', (e) => setCursorOrigin(el, e))
  }}
>
  <ListFilterPlusIcon data-slot="icon" className="size-4 stroke-[2.25px]" />
  <span data-slot="text">Add filter</span>
</button>

```

## Breakdown
